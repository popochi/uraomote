# 比較ランキング表プラグイン 使用ガイド (v2.0)

## インストール方法

1. `my-comparison-table` フォルダを WordPress の `/wp-content/plugins/` ディレクトリにアップロード
2. WordPress管理画面 → プラグイン → 「比較ランキング表」を有効化

---

## 商品管理（管理画面）

### 商品を追加する

1. 管理画面 → **比較商品** → **新規追加**
2. 以下の項目を入力：

| 項目 | 説明 |
|------|------|
| タイトル | 商品名 |
| アイキャッチ画像 | 商品画像（右サイドバーから設定） |
| 表示順位 | 1が1位、数字が小さいほど上位 |
| 評価 | 1〜5の数値（小数可） |
| 価格 | 税込価格（数値のみ） |
| 特徴タグ | カンマ区切り（例：送料無料,初心者向け） |
| 詳細ページURL | 詳細ボタンのリンク先 |
| アフィリエイトURL | アフィリエイトボタンのリンク先 |

3. 「公開」をクリック

### カテゴリーを設定する

1. 管理画面 → **比較商品** → **商品カテゴリー**
2. カテゴリーを追加（例：サプリメント、美容、健康食品）
3. 商品編集画面でカテゴリーを選択

---

## 装飾設定（管理画面）

管理画面 → **設定** → **比較表設定** から外観をカスタマイズできます。

| カテゴリ | 設定項目 |
|----------|----------|
| カラー設定 | プライマリカラー、サブカラー、ボタン色、ボタン文字色 |
| フォント設定 | 商品名サイズ、価格サイズ |
| 表示設定 | 王冠の表示ON/OFF、タグの表示ON/OFF |
| ボタン設定 | 詳細ボタンテキスト、アフィリエイトボタンテキスト |

---

## ショートコードの使い方

### 方法1: 商品ID指定（推奨）

```
[my_comparison_table ids="123,456,789"]
```

指定したIDの商品を、指定順で表示します。

### 方法2: カテゴリー指定

```
[my_comparison_table category="サプリメント"]
```

指定カテゴリーの商品を表示順位順で表示します。

### 方法3: 全商品表示

```
[my_comparison_table]
```

登録されている全商品を表示順位順で表示します。

### 方法4: JSON形式（従来方式）

```
[my_comparison_table data='[
  {
    "name": "商品A",
    "image": "https://example.com/a.jpg",
    "rating": 4.5,
    "price": 2980,
    "tags": ["送料無料", "初心者向け"],
    "detail_url": "#",
    "affiliate_url": "#"
  }
]']
```

### オプション

| オプション | 値 | 説明 |
|------------|-----|------|
| show_filter | "true" / "false" | 絞り込み機能の表示（デフォルト: true） |
| show_sort | "true" / "false" | 並び替えボタンの表示（デフォルト: true） |

例：並び替えボタンを非表示
```
[my_comparison_table ids="123,456" show_sort="false"]
```

---

## ファイル構成

```
my-comparison-table/
├── my-comparison-table.php    # メインプラグイン
├── includes/
│   ├── class-mct-product.php  # 商品管理クラス
│   └── class-mct-settings.php # 設定画面クラス
├── assets/
│   ├── css/
│   │   ├── style.css          # フロント用CSS
│   │   └── admin.css          # 管理画面用CSS
│   └── js/
│       ├── script.js          # フロント用JS
│       └── admin.js           # 管理画面用JS
├── readme.txt
├── USAGE.md
└── demo.html
```

---

## トラブルシューティング

### 商品が表示されない
- 商品が「公開」状態になっているか確認
- ショートコードのIDが正しいか確認

### カテゴリー指定で表示されない
- カテゴリーのスラッグ（URLに使われる文字列）を確認
- 日本語カテゴリー名でも動作しますが、スラッグで指定するのが確実です

### スタイルが反映されない
- ブラウザのキャッシュをクリア
- 設定 → 比較表設定で「設定を保存」をクリック
